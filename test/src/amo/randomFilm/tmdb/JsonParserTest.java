/**
 * 
 */
package amo.randomFilm.tmdb;

import java.util.Iterator;

import amo.randomFilm.tmdb.data.Movie;

import com.google.gson.Gson;
import com.google.gson.JsonArray;
import com.google.gson.JsonElement;
import com.google.gson.JsonParser;

/**
 * @author Andreas Monger (andreas.monger@gmail.com)
 * @date 05.09.2011
 */
public class JsonParserTest {
    
    public static void main(String[] args) {
        String jsonMovie = "[{\"score\":null,\"popularity\":3,\"translated\":true,\"adult\":false,\"language\":\"de\",\"original_name\":\"Die drei Musketiere\",\"name\":\"Die drei Musketiere\",\"alternative_name\":null,\"movie_type\":\"movie\",\"id\":72522,\"imdb_id\":\"tt0831399\",\"url\":\"http://www.themoviedb.org/movie/72522\",\"votes\":0,\"rating\":0.0,\"certification\":\"\",\"overview\":\"Der trottelige Goofy, die zur Feigheit neigende Ente Donald und der vertr\u00e4umte M\u00e4userich Micky fristen ihr Dasein als Dienstboten des intriganten Musketierhauptmanns Carlo und tr\u00e4umen insgeheim davon, selbst als Musketiere Heldentaten zu vollbringen. Als Carlo die Prinzessin Minnie entf\u00fchren will und drei dumme Bauernopfer als deren Leibgarde sucht, erf\u00fcllt sich ihr Traum schneller als erwartet. Freilich hat Carlo nicht damit gerechnet, wie die drei Verlierer an ihrer neuen Aufgabe \u00fcber sich hinaus wachsen. \",\"released\":null,\"posters\":[{\"image\":{\"type\":\"poster\",\"size\":\"original\",\"height\":1500,\"width\":1500,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-original.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}},{\"image\":{\"type\":\"poster\",\"size\":\"mid\",\"height\":500,\"width\":500,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-mid.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w342\",\"height\":342,\"width\":342,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-w342.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}},{\"image\":{\"type\":\"poster\",\"size\":\"cover\",\"height\":185,\"width\":185,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-cover.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w154\",\"height\":154,\"width\":154,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-w154.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}},{\"image\":{\"type\":\"poster\",\"size\":\"thumb\",\"height\":92,\"width\":92,\"url\":\"http://cf1.imgobject.com/posters/c44/4e4e72a27b9aa1051e000c44/die-drei-musketiere-thumb.jpg\",\"id\":\"4e4e72a27b9aa1051e000c44\"}}],\"backdrops\":[],\"version\":5,\"last_modified_at\":\"2011-08-19 14:41:34\"},{\"score\":null,\"popularity\":3,\"translated\":true,\"adult\":false,\"language\":\"en\",\"original_name\":\"Les trois mousquetaires: La vengeance de Milady\",\"name\":\"Die drei Musketiere\",\"alternative_name\":\"Les Ferrets de la reine\",\"movie_type\":\"movie\",\"id\":4153,\"imdb_id\":\"tt0055548\",\"url\":\"http://www.themoviedb.org/movie/4153\",\"votes\":2,\"rating\":7.0,\"certification\":\"\",\"overview\":\"Zweiteilige Adaptation des Dumas-Stoffes\",\"released\":\"1961-10-04\",\"posters\":[{\"image\":{\"type\":\"poster\",\"size\":\"original\",\"height\":1599,\"width\":1100,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-original.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}},{\"image\":{\"type\":\"poster\",\"size\":\"mid\",\"height\":727,\"width\":500,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-mid.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}},{\"image\":{\"type\":\"poster\",\"size\":\"cover\",\"height\":269,\"width\":185,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-cover.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}},{\"image\":{\"type\":\"poster\",\"size\":\"thumb\",\"height\":134,\"width\":92,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-thumb.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w342\",\"height\":497,\"width\":342,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-w342.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w154\",\"height\":224,\"width\":154,\"url\":\"http://cf1.imgobject.com/posters/8b6/4d5287857b9aa13aab0118b6/les-trois-mousquetaires-la-vengeance-de-milady-w154.jpg\",\"id\":\"4d5287857b9aa13aab0118b6\"}}],\"backdrops\":[],\"version\":77,\"last_modified_at\":\"2011-08-18 04:27:36\"},{\"score\":null,\"popularity\":3,\"translated\":true,\"adult\":false,\"language\":\"en\",\"original_name\":\"The Three Musketeers\",\"name\":\"Die drei Musketiere\",\"alternative_name\":\"Die drei Musketiere\",\"movie_type\":\"movie\",\"id\":52451,\"imdb_id\":\"tt1509767\",\"url\":\"http://www.themoviedb.org/movie/52451\",\"votes\":0,\"rating\":0.0,\"certification\":\"PG-13\",\"overview\":\"Der junge D'Artagnan macht sich auf dem Weg von seinem idyllischen Heimatdorf nach Paris, wo er den Musketieren beitreten will. Gleich bei seiner Ankunft legt er sich mit den erfahrenen Haudegen Athos, Porthos und Aramis an und schlie\u00dft dabei Freundschaft mit ihnen. Gemeinsam treten sie gegen den diabolischen Kardinal Richelieu, dessen Handlanger Rochefort und die durchtriebene Lady de Winter an, die Frankreich in den Krieg mit England treiben wollen, um den K\u00f6nig st\u00fcrzen und die Krone an sich rei\u00dfen zu k\u00f6nnen.\",\"released\":\"2011-10-21\",\"posters\":[{\"image\":{\"type\":\"poster\",\"size\":\"original\",\"height\":1443,\"width\":1000,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-original.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}},{\"image\":{\"type\":\"poster\",\"size\":\"mid\",\"height\":722,\"width\":500,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-mid.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w342\",\"height\":494,\"width\":342,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-w342.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}},{\"image\":{\"type\":\"poster\",\"size\":\"cover\",\"height\":267,\"width\":185,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-cover.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}},{\"image\":{\"type\":\"poster\",\"size\":\"w154\",\"height\":222,\"width\":154,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-w154.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}},{\"image\":{\"type\":\"poster\",\"size\":\"thumb\",\"height\":133,\"width\":92,\"url\":\"http://cf1.imgobject.com/posters/295/4dc791c45e73d624a0000295/the-three-musketeers-thumb.jpg\",\"id\":\"4dc791c45e73d624a0000295\"}}],\"backdrops\":[{\"image\":{\"type\":\"backdrop\",\"size\":\"original\",\"height\":1080,\"width\":1920,\"url\":\"http://cf1.imgobject.com/backdrops/395/4d195a335e73d6083800a395/the-three-musketeers-original.jpg\",\"id\":\"4d195a335e73d6083800a395\"}},{\"image\":{\"type\":\"backdrop\",\"size\":\"poster\",\"height\":439,\"width\":780,\"url\":\"http://cf1.imgobject.com/backdrops/395/4d195a335e73d6083800a395/the-three-musketeers-poster.jpg\",\"id\":\"4d195a335e73d6083800a395\"}},{\"image\":{\"type\":\"backdrop\",\"size\":\"thumb\",\"height\":169,\"width\":300,\"url\":\"http://cf1.imgobject.com/backdrops/395/4d195a335e73d6083800a395/the-three-musketeers-thumb.jpg\",\"id\":\"4d195a335e73d6083800a395\"}},{\"image\":{\"type\":\"backdrop\",\"size\":\"w1280\",\"height\":720,\"width\":1280,\"url\":\"http://cf1.imgobject.com/backdrops/395/4d195a335e73d6083800a395/the-three-musketeers-w1280.jpg\",\"id\":\"4d195a335e73d6083800a395\"}}],\"version\":594,\"last_modified_at\":\"2011-09-05 11:26:15\"}]";
        
        JsonParser parser = new JsonParser();
        JsonArray array = parser.parse(jsonMovie).getAsJsonArray();
        
        Gson gson = new Gson();
        Iterator<JsonElement> iterator = array.iterator();
        while (iterator.hasNext()) {
            Movie movie = gson.fromJson(iterator.next(), Movie.class);
            System.out.println("Movie: " + movie);
        }
        
        // String message = gson.fromJson(array.get(0), String.class);
        // int number = gson.fromJson(array.get(1), int.class);
        // Event event = gson.fromJson(array.get(2), Event.class);
        // System.out.printf("Using Gson.fromJson() to get: %s, %d, %s",
        // message, number, event);
        
    }
}
